import type { Provider } from "../../../types/api";

interface AccordionOptions {
	/**
	 * <summary>ã‚¿ã‚°å†…ã«è¡¨ç¤ºã™ã‚‹ã‚¿ã‚¤ãƒˆãƒ«
	 * ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€ŒğŸ’¡ è©³ç´°ã‚’è¡¨ç¤ºã€
	 */
	title?: string;
	/**
	 * ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æƒ…å ±ã‚’å«ã‚ã‚‹å ´åˆã¯æŒ‡å®š
	 */
	provider?: Provider;
}

/**
 * ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³(æŠ˜ã‚ŠãŸãŸã¿)å½¢å¼ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹
 *
 * @example
 * ```ts
 * const content = "ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹...";
 * const formatted = formatAsAccordion(content, {
 *   title: "ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º",
 *   provider: "openai",
 * });
 * ```
 */
export function formatAsAccordion(
	content: string,
	options: AccordionOptions = {},
): string {
	const { title = "ğŸ’¡ è©³ç´°ã‚’è¡¨ç¤º", provider } = options;

	return `<details>
<summary>
<h4>${title}</h4>
</summary>

${content}
</details>

${provider ? `(generated by ${provider})` : ""}`;
}
